(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{147:function(t,e,a){},148:function(t,e,a){"use strict";a.r(e);var n,r,c,s=a(0),i=a.n(s),o=a(17),p=a.n(o),l=a(14),u=a(47),j=a(20),d=a(18),b=a(19),h=a(3),f=b.a.div.attrs({className:"collapse navbar-collapse"})(n||(n=Object(d.a)([""]))),O=b.a.div.attrs({className:"navbar-nav mr-auto"})(r||(r=Object(d.a)([""]))),m=b.a.div.attrs({className:"collapse navbar-collapse"})(c||(c=Object(d.a)([""])));function x(){return Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)(u.b,{to:"/",className:"navbar-brand",children:"Urgent Care Access"}),Object(h.jsx)(f,{children:Object(h.jsxs)(O,{children:[Object(h.jsx)(m,{children:Object(h.jsx)(u.b,{to:"/patients/list",className:"nav-link",children:"List Of Patients"})}),Object(h.jsx)(m,{children:Object(h.jsx)(u.b,{to:"/patient/create",className:"nav-link",children:"New Patient"})})]})})]})}a(121);var g,v,y=b.a.div.attrs({className:"container-fluid"})(g||(g=Object(d.a)(["padding 0px"]))),w=b.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(v||(v=Object(d.a)(["\n    margin-bottom 20 px;\n"])));function N(){return Object(h.jsx)(y,{children:Object(h.jsx)(w,{children:Object(h.jsx)(x,{})})})}var S=a(7),C=a.n(S),k=a(16),P=a(87),I=a(66),H=a.n(I),A=H.a.create({baseURL:"http://localhost:3000/api"});H.a.defaults.withCredentials=!0;var D,T,E,W,U,L,F,B,M,_={getAllPatients:function(){return A.get("/patients")},deletePatientById:function(t){return A.delete("/patient/".concat(t))},insertPatient:function(t){return A.post("/patient",t)},updatePatientById:function(t,e){return A.put("/patient/".concat(t),e)},getPatientById:function(t){return A.get("/patient/".concat(t))},insertHospital:function(t){return A.post("/hospital",t)},getAllHospitals:function(t){return A.get("/hospitals")},loginHospital:function(t){return A.post("/hospital/login",t)},getLoggedInHospital:function(t){return A.get("/hospital/me",{headers:{token:t}})}},q=(a(141),b.a.div(D||(D=Object(d.a)(["\n  padding: 0 40px 40px 40px;\n"])))),z=b.a.div(T||(T=Object(d.a)(["\n  color: #ef9b0f;\n  cursor: pointer;\n"]))),J=b.a.div(E||(E=Object(d.a)(["\n  color: #ff0000;\n  cursor: pointer;\n"])));function R(t){return Object(h.jsx)(z,{onClick:function(e){e.preventDefault(),window.location.href="/patients/update/".concat(t.id)},children:"Update"})}function V(t){return Object(h.jsx)(J,{onClick:function(e){e.preventDefault(),window.confirm("Do You want to delete the user ".concat(t.id," permanently?"))&&(_.deletePatientById(t.id),window.location.reload())},children:"Delete"})}function Y(){var t=Object(s.useState)([]),e=Object(l.a)(t,2),a=e[0],n=e[1],r=Object(s.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1];Object(s.useEffect)((function(){function t(){return(t=Object(k.a)(C.a.mark((function t(){var e,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,_.getAllPatients();case 3:e=t.sent,r=e.data,n(r),console.log(a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){o(!1)}),[a]);var p=[{Header:"ID",accessor:"_id",filterable:!0},{Header:"First Name",accessor:"firstName",filterable:!0},{Header:"Last Name",accessor:"lastName",filterable:!0},{Header:"Dob",accessor:"dob",filterable:!0},{Header:"",accessor:"",Cell:function(t){return Object(h.jsx)("span",{children:Object(h.jsx)(V,{id:t.original._id})})}},{Header:"",accessor:"",Cell:function(t){return Object(h.jsx)("span",{children:Object(h.jsx)(R,{id:t.original._id})})}}];return Object(h.jsx)(q,{children:Object(h.jsx)(P.a,{data:a.data,columns:p,loading:i,defaultPageSize:10,showPageSizeOptions:!0,minRows:0})})}var X,G,K,Q,Z,$,tt=b.a.h1.attrs({className:"h1"})(W||(W=Object(d.a)([""]))),et=b.a.div.attrs({className:"form-group"})(U||(U=Object(d.a)(["\n  margin: 0 30px;\n"]))),at=b.a.label(L||(L=Object(d.a)(["\n  margin: 5px;\n"]))),nt=b.a.input.attrs({className:"form-control"})(F||(F=Object(d.a)(["\n  margin: 5px;\n"]))),rt=b.a.button.attrs({className:"btn btn-primary"})(B||(B=Object(d.a)(["\n  margin: 15px 15px 15px 15px;\n"]))),ct=b.a.a.attrs({className:"btn btn-danger"})(M||(M=Object(d.a)(["\n  margin: 15px 15px 15px 15px;\n"])));function st(){var t=Object(s.useState)(""),e=Object(l.a)(t,2),a=e[0],n=e[1],r=Object(s.useState)(""),c=Object(l.a)(r,2),i=c[0],o=c[1],p=Object(s.useState)(""),u=Object(l.a)(p,2),j=u[0],d=u[1];function b(){return b=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,n(a);case 2:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function f(){return f=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,o(a);case 2:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function O(){return O=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,d(a);case 2:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function m(){return(m=Object(k.a)(C.a.mark((function t(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={firstName:a,lastName:i,dob:j},t.next=3,_.insertPatient(e).then((function(t){window.alert("Patient Inserted Successfully"),n(""),o(""),d(""),console.log(i)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)(et,{children:[Object(h.jsx)(tt,{children:"Create Patient"}),Object(h.jsx)(at,{children:"First Name: "}),Object(h.jsx)(nt,{type:"text",value:a,onChange:function(t){return b.apply(this,arguments)}}),Object(h.jsx)(at,{children:"Last Name: "}),Object(h.jsx)(nt,{type:"text",value:i,onChange:function(t){return f.apply(this,arguments)}}),Object(h.jsx)(at,{children:"Dob: "}),Object(h.jsx)(nt,{type:Date,value:j,onChange:function(t){return O.apply(this,arguments)}}),Object(h.jsx)(rt,{onClick:function(){return m.apply(this,arguments)},children:" Add Patient "}),Object(h.jsx)(ct,{href:"/patients/list",children:" Cancel "})]})}var it=b.a.h1.attrs({className:"h1"})(X||(X=Object(d.a)([""]))),ot=b.a.div.attrs({className:"form-group"})(G||(G=Object(d.a)(["\n  margin: 0 30px;\n"]))),pt=b.a.label(K||(K=Object(d.a)(["\n  margin: 5px;\n"]))),lt=b.a.input.attrs({className:"form-control"})(Q||(Q=Object(d.a)(["\n  margin: 5px;\n"]))),ut=b.a.button.attrs({className:"btn btn-primary"})(Z||(Z=Object(d.a)(["\n  margin: 15px 15px 15px 5px;\n"]))),jt=b.a.a.attrs({className:"btn btn-danger"})($||($=Object(d.a)(["\n  margin: 15px 15px 15px 5px;\n"])));function dt(t){var e=Object(s.useState)(t.match.params.id),a=Object(l.a)(e,2),n=a[0],r=(a[1],Object(s.useState)("")),c=Object(l.a)(r,2),i=c[0],o=c[1],p=Object(s.useState)(""),u=Object(l.a)(p,2),j=u[0],d=u[1],b=Object(s.useState)(""),f=Object(l.a)(b,2),O=f[0],m=f[1];function x(){return x=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,o(a);case 2:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function g(){return g=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,d(a);case 2:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function v(){return v=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,m(a);case 2:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function y(){return(y=Object(k.a)(C.a.mark((function t(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={firstName:i,lastName:j,dob:O},t.next=3,_.updatePatientById(n,e).then((function(t){window.alert("Patient Updated Successfully"),o(""),d(""),m("")}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){function t(){return(t=Object(k.a)(C.a.mark((function t(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getPatientById(n);case 2:e=t.sent,o(e.data.data.firstName),d(e.data.data.lastName),m(e.data.data.dob);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(h.jsxs)(ot,{children:[Object(h.jsx)(it,{children:"Create Patient"}),Object(h.jsx)(pt,{children:"First Name: "}),Object(h.jsx)(lt,{type:"text",value:i,onChange:function(t){return x.apply(this,arguments)}}),Object(h.jsx)(pt,{children:"Last Name: "}),Object(h.jsx)(lt,{type:"text",value:j,onChange:function(t){return g.apply(this,arguments)}}),Object(h.jsx)(pt,{children:"Date Of Birth: "}),Object(h.jsx)(lt,{type:"text",value:O,onChange:function(t){return v.apply(this,arguments)}}),Object(h.jsx)(ut,{onClick:function(){return y.apply(this,arguments)},children:"Update Patient"}),Object(h.jsx)(jt,{href:"/patients/list",children:"Cancel"})]})}var bt=a(188),ht=a(187),ft=a(181),Ot=a(185),mt=a(183),xt=a(182),gt=a(186),vt=a(57),yt=a.n(vt),wt=a(151),Nt=a(177),St=a(179),Ct=Object(Nt.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(3)},submit:{margin:t.spacing(3,0,2)}}}));function kt(){var t=Ct(),e=Object(s.useState)(""),a=Object(l.a)(e,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(l.a)(c,2),o=i[0],p=i[1],u=Object(s.useState)(""),j=Object(l.a)(u,2),d=j[0],b=j[1];function f(){return f=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,r(a);case 2:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function O(){return O=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,p(a);case 2:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function m(){return m=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,b(a);case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function x(){return(x=Object(k.a)(C.a.mark((function t(){var e;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:n,postcode:o,password:d},t.next=3,_.insertHospital(e).then((function(t){window.alert("Hospital Inserted Succesfully"),r(""),p(""),b("")}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)(St.a,{component:"main",maxWidth:"xs",children:[Object(h.jsx)(ft.a,{}),Object(h.jsxs)("div",{className:t.paper,children:[Object(h.jsx)(bt.a,{className:t.avatar,children:Object(h.jsx)(yt.a,{})}),Object(h.jsx)(wt.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(h.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(h.jsxs)(xt.a,{container:!0,spacing:2,children:[Object(h.jsx)(xt.a,{item:!0,xs:12,children:Object(h.jsx)(Ot.a,{value:n,autoComplete:"name",name:"hospitalName",variant:"outlined",required:!0,fullWidth:!0,id:"hospitalName",label:"Hospital Name",autoFocus:!0,onChange:function(t){return f.apply(this,arguments)}})}),Object(h.jsx)(xt.a,{item:!0,xs:12,children:Object(h.jsx)(Ot.a,{value:o,variant:"outlined",required:!0,fullWidth:!0,id:"postcode",label:"Hospital Postcode",name:"postcode",autoComplete:"postcode",onChange:function(t){return O.apply(this,arguments)}})}),Object(h.jsx)(xt.a,{item:!0,xs:12,children:Object(h.jsx)(Ot.a,{value:d,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return m.apply(this,arguments)}})})]}),Object(h.jsx)(ht.a,{href:"/",onClick:function(){return x.apply(this,arguments)},fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(h.jsx)(xt.a,{container:!0,justifyContent:"flex-end",children:Object(h.jsx)(xt.a,{item:!0,children:Object(h.jsx)(mt.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(h.jsx)(gt.a,{mt:5})]})}var Pt=Object(Nt.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,2)}}}));function It(){var t=Pt(),e=Object(s.useState)(""),a=Object(l.a)(e,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(l.a)(c,2),o=i[0],p=i[1],u=Object(s.useState)(""),j=Object(l.a)(u,2),d=j[0],b=j[1];function f(){return f=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,r(a);case 2:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function O(){return O=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,p(a);case 2:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function m(){return m=Object(k.a)(C.a.mark((function t(e){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.target.value,b(a);case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function x(){return(x=Object(k.a)(C.a.mark((function t(){var e,a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:n,postcode:o,password:d},t.next=3,_.loginHospital(e);case 3:return a=t.sent,r=a.data.token,t.next=7,_.getLoggedInHospital(r).then((function(t){localStorage.setItem("token",r),window.alert("Successfully logged in")}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)(St.a,{component:"main",maxWidth:"xs",children:[Object(h.jsx)(ft.a,{}),Object(h.jsxs)("div",{className:t.paper,children:[Object(h.jsx)(bt.a,{className:t.avatar,children:Object(h.jsx)(yt.a,{})}),Object(h.jsx)(wt.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(h.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(h.jsx)(Ot.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"hospitalName",label:"Hospital Name",name:"hospitalName",autoComplete:"hospitalName",onChange:function(t){return f.apply(this,arguments)},autoFocus:!0}),Object(h.jsx)(Ot.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"postcode",label:"Postcode",type:"postcode",id:"postcode",autoComplete:"postcode",onChange:function(t){return O.apply(this,arguments)}}),Object(h.jsx)(Ot.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"password",onChange:function(t){return m.apply(this,arguments)}}),Object(h.jsx)(ht.a,{href:"/home",onClick:function(){return x.apply(this,arguments)},fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(h.jsxs)(xt.a,{container:!0,children:[Object(h.jsx)(xt.a,{item:!0,xs:!0,children:Object(h.jsx)(mt.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(h.jsx)(xt.a,{item:!0,children:Object(h.jsx)(mt.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(h.jsx)(gt.a,{mt:8})]})}function Ht(){return Object(h.jsx)("h1",{children:"Welcome to Urgent Care Access"})}var At=a(184),Dt=a(189),Tt=a(190),Et=a(191),Wt=a(21),Ut=a.n(Wt),Lt=a(84),Ft=(a(146),a(147),a(85)),Bt=a(86),Mt=Ut.a.icon({iconUrl:Ft.a,shadowURL:Bt.a});new Ut.a.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function _t(){var t=Object(s.useState)(null),e=Object(l.a)(t,2),a=e[0],n=e[1],r=Object(s.useState)(51.5175),c=Object(l.a)(r,2),i=c[0],o=c[1],p=Object(s.useState)(-.1),u=Object(l.a)(p,2),j=u[0],d=u[1];return Object(s.useEffect)((function(){function t(){return(t=Object(k.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.geolocation.getCurrentPosition((function(t){o(t.coords.latitude),d(t.coords.longitude)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()})),Object(h.jsxs)(Dt.a,{center:[i,j],zoom:12,children:[Object(h.jsx)(Tt.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Lt.a.map((function(t){return Object(h.jsx)(At.a,{position:[t.geometry.coordinates[1],t.geometry.coordinates[0]],onClick:function(){n(t)}},t.properties.HOSPITAL_ID)})),a&&Object(h.jsx)(Et.a,{position:[a.geometry.coordinates[1],a.geometry.coordinates[0]],onClose:function(){n(null)},children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:a.properties.NAME}),Object(h.jsx)("p",{children:a.properties.POSTCODE}),Object(h.jsxs)("p",{children:["Patients: ",a.properties.PATIENTS]})]})})]})}Ut.a.Marker.prototype.options.icon=Mt;var qt=function(){var t=Object(s.useState)(localStorage.getItem("token")),e=Object(l.a)(t,2);return e[0],e[1],Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(u.a,{children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/login",exact:!0,component:It}),Object(h.jsx)(j.a,{path:"/signup",exact:!0,component:kt}),Object(h.jsx)(j.a,{path:"/map",exact:!0,component:_t}),Object(h.jsxs)("div",{children:[Object(h.jsx)(N,{}),Object(h.jsx)(j.a,{path:"/home",exact:!0,component:Ht}),Object(h.jsx)(j.a,{path:"/patients/list",exact:!0,component:Y}),Object(h.jsx)(j.a,{path:"/patient/create",exact:!0,component:st}),Object(h.jsx)(j.a,{path:"/patients/update/:id",exact:!0,component:dt})]})]})})})};p.a.render(Object(h.jsx)(qt,{}),document.getElementById("root"))},84:function(t){t.exports=JSON.parse('{"a":[{"type":"Feature","properties":{"HOSPITAL_ID":1,"NAME":"St Marys Hospital","POSTCODE":"W21NY","PATIENTS":12},"geometry":{"type":"Point","coordinates":[-0.1743,51.5176]}},{"type":"Feature","properties":{"HOSPITAL_ID":2,"NAME":"St Bartholomew\'s Hospital","POSTCODE":"EC1A7BE","PATIENTS":24},"geometry":{"type":"Point","coordinates":[-0.1,51.5175]}},{"type":"Feature","properties":{"HOSPITAL_ID":3,"NAME":"University Hospital Wales","POSTCODE":"CF244XW","PATIENTS":4},"geometry":{"type":"Point","coordinates":[-3.19017581841,51.5059981968]}}]}')}},[[148,1,2]]]);
//# sourceMappingURL=main.2c89fcc3.chunk.js.map